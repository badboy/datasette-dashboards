title: Datasette Dashboards Demo
plugins:
  datasette-dashboards:
    job_offers_stats:
      title: Job offers statistics
      description: Gather metrics about job offers
      charts:
        - title: Number of offers by day
          db: jobs
          query: SELECT date(date) as day, count(*) as count FROM offers_view GROUP BY day ORDER BY day
          library: vega
          display:
            mark: { type: line, tooltip: true }
            encoding:
              x: { field: day, type: temporal }
              y: { field: count, type: quantitative }
        - title: Number of offers by source
          db: jobs
          query: SELECT source, count(*) as count FROM offers_view GROUP BY source ORDER BY count DESC
          library: vega
          display:
            mark: { type: arc, tooltip: true }
            encoding:
              color: { field: source, type: nominal }
              theta: { field: count, type: quantitative }
        - title: Offers by day by source
          db: jobs
          query: SELECT date(date) as day, source, count(*) as count FROM offers_view GROUP BY day, source ORDER BY day
          library: vega
          display:
            mark: { type: bar, tooltip: true }
            encoding:
              x: { field: day, type: temporal }
              y: { field: count, type: quantitative }
              color: { field: source, type: nominal }
